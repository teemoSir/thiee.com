<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
        }

        .container {
            position: absolute;
            width: 100%;
            height: 100%;
        }

    </style>
    <script src="../../lib/MapAPI_JavaScript.min.js"></script>

</head>
<body style=" overflow:hidden">

    <div id="container"></div>
    <div id="quanjingid" style=" position:absolute; top:70px; right:20px; height:400px; width:500px"></div>

<div class="alert alert-success" style="position:absolute; left:100px; top:20px; ">请点击需要显示全景的区域</div>
<script>

    init()

    function init() {
        // 地图初始化
        var map = new TYMapOptions();
        map.contentId = "container";
        map.lnglat = new TYLngLat(100, 35);
        map.mapLevel = 4;
        TYInitialize(map);

        // 地图配置
        TYMapTiles( new TYTilesOptions(TYEnumMapType.TY_Google_IMG));
    }

    var event = new TYEventOptions();
    event.event = TYEnumEvent.TY_CLICK;
    event.callback = setvalue;
    TYAddMapEvent(event);
    //第一次加载
    var first = true;
    if (first) {
        first = false;
        var pos = new TYLngLat(114.497552, 38.105608);
        var qj = new TYPanoramaOption();
        qj.containerId = "quanjingid";
        qj.position = pos;
        TYPanorama(qj);
    }
    //获取点击坐标
    function setvalue(e) {
        var pos = new TYLngLat(e.location.GPSLng, e.location.GPSLat);
        var qj = new TYPanoramaOption();
        qj.containerId = "quanjingid";
        qj.position = pos;
        TYPanorama(qj);
    }
</script>
</body>
</html>
